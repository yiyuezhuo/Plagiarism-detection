人工智能原理与方法







        姓名：张文翔

      学号:117106032746



















图像分析在工业机器人产业的应用研究



1课题研究意义

工业机器人产业作为装备制造业的高端领域，被称为＂制造业皇冠顶端的明珠＂，是我国重点发展的战略性新兴产业。虽然我国的工业机器人发展取得了令人鼓舞的成果，工业机器人产业化已经初具规模。但是，传统的工业机器人都是通过采用示教再现编程和离线预编程来控制机器人进行工作，这些编程方式有着明显的缺点：如编程工作量大、占用机器时间长和对复杂路径适应性不强等。传统的工业机器人邑经越来越难满足现代生产的需要，因此通过先进的图像识别技术完成工业机器人的智能化提升就显得很有必要。智能化工业机器人相较于传统的工业机器人将拥有更加强大的功能和更加智能的信息处理方式，大力培育和发展智能化工业机器人对于加快制造业转型升级，提高生产效率，实现制造过程的智能化发展具有重要的意义。

2国内外研究现状

   图像识别技术始于20世纪50年代，伴随着美国对宇航空间技术探测研究的兴起而发展起来。其发展大致经历了三个阶段：字符图像识别阶段、数字图像识别阶段以及物体图像识别阶段。

随着图像识别技术的迅速发展，其基础理论越来越完善，技术水平越来越先进，应用场景也越来越丰富，已经成为了现代产品智能化应用的关键技术。在工业机器人领域，图像识别技术主要用来提升工业机器人的智能化程度，为工业生产中的零件识别与分类提供技术支持。近年来，随着工业机器人的广泛应用和图像识别技术的进步，图像识别技术在工业机器人上的应用与研究也越来越广泛，已经涌现出了很多研究成果。

国外对图像识别技术在机器人上的应用与研究起步较早，1968年，美国斯坦福大学的Carthy J Mc教授等人研制出了带有视觉传感器的机器人Shakey，它可以在计算机的控制下根据人的指令发现并抓取散放在空间中的积木块。1973年，斯坦福大学的Bolles和Paolo将斯坦福机械手配备了视觉和为觉反馈装置，并表演了通过计算机控制机械手完成自动装配水泵的操作。1979年，美国Unimation公司推出了PUMA系列通用工业机器人，它采用VAL语言编程，可配置视觉、为觉和触觉传感器进行反馈控制。近几年，随着图像识别技术和工业自动化的进一步发展，基于图像视觉技术的工业机器人研究与应用得到了广泛的关注。

1994年，Suga Y等人研究了基于图像识别的弧焊化器人焊缝跟踪控制系统，该系统通过神经网络对获取的图像进行处理以获得焊缝的形状数据，完成了对焊缝图像的识别及跟踪。1995年，Yoshini B H等人提出了一种通过提取图像的视觉信息控制机器人系统的方法，并成功通过工业机器人完成了轴孔装配作业。1999年，Piepmeier J A等人基于动态拟牛顿理论，提出了一种无标定的视觉伺服控制方法，通过工业机器人完成了对运动目标的跟踪控制。2010年，Thielemann J T等人利用结构光技术捕获图像的深度信息，基于图像模型匹配识别出目标对象，使机器人能够自动定位和拾取随机放置的物体.2011年，Kosmopoulos D I等人研究了半结构化环境中图像系统的光照条件变化对图像识别的影响，并基于视觉图像系统成功地进行了汽车天窗装配实验。2013年，Rocha L F等人研究了基于图像分类匹配的工业机器人零件加工系统，能够加工范围广泛的产品，其分类识别率达到了99.7%。

在工业生产应用方面，2006年日本的Fanuc公司研发了一套使用简便、高度集成的iRVision工业机器人视觉系统，为机器人导向和视觉反馈方面提供了一种简化的技术。2008年瑞典的ABB公司也推出了工业机器人配套的图像视觉集成系统True View，该系统包括了搭载于机器人的单摄像头和各类照明组件，可实现全方位6自由度的3D视觉引导，完成对目标物体和环境的视觉感知，具有很好的实际应用效果。此外，日本的YASKAWA公司、德国的KUKA公司、瑞士的SIG公司、芬兰的RTS公司等也都开发了自己的工业机器人视觉系统，具有良好的工业应用性。

我国对工业机器人的研究起步于80年代，相对于国外的研究来说比较晚，基础比较薄弱，但是经过二十年的持续发展和积累，我国巴已经由最初的引进、仿制为主发展到更多地向自主创新、重点跨越上转变。近几年，我国许多高校和研究所都在进行着基于图像识别的工业机器人研究，取得了一系列标志性的研究成果。清华大学岁波等人提出了一种基于双目视觉理论的工业机器人运动轨迹检测方法，建立了基于直线特征匹配的工业机器人运动轨迹位姿视觉检测模型。中国科学技术大学张栋翔等人研究了水下智能机器人的光视觉图像处理问题，完成了对机器人的视觉定位和位姿估计。燕山大学唐启敬等人对高粉尘題腐蚀环境下的取料机器人图像识别系统进行了研究，提出了一种基于直纹曲面数学模型视觉检测方法，解决了颗粒连续检测的成像问题。哈尔滨工业大学史也等人对空间机器人的自主目标捕获的视觉伺服轨迹规划方法进行了研究，提出了一种多约束条件下目标捕获的视觉伺服协调控制方法，基于人工势能场法在图像空间生成规划轨迹从而控制空间机器人运动。合肥工业大学陈立松等人研究了视觉引导系统标定过程，提出了一种不同坐标系之间的变换关系求解的算法，建立了基于点的视觉引导系统手眼标定模型。吉林大学赵军研究了焊缝磨抛机器人的视觉系统，根据特定的工况特点利用双目立体视觉技术识别提取焊缝特征，完成焊缝磨拋工艺。

3工业机器人图像识别系统的图像预处理技术

工业机器人图像识别系统就是在工业机器人的外围图像系统中通过工业相机及相关设备进行图像采集和处理从而代替人类视觉系统来完成各种测量和判断。工业机器人的图像识别系统处理流程大致可分为五个模块：原始图像输入、预处理、特征提取、模式分类和分类结果。

由于原始图像在采集过程中难免会受到某种程度的破坏和各种各样的噪声污染，一般不能在图像识别系统中直接使用，必须在进行特征提取和模式分类前对原始图像进行图像预处理操作通过对工业相机获取的图像进行图像去噪，图像增强，图像分割等操作，增强原始图像的有效特征，同时弱化原始图像中的无效特征，减少图像的大小，最大化图像的有效信息比例，提高图像处理的运算速度等。经过图像预处理操作后的图像能够增加后续的图像特征提取及识别步骤的可靠性，对于得到正确的结果具有十分重要的意义。





3.1图像去噪与增强处理

3.1.1图像去噪处理

图像去噪的实质是利用图像噪声的类型和特性去除图像中无用的噪声信息，同时尽可能的保持原始图像主要特征完整性的过程。

（1）图像噪声模型

    图像噪声是指在采集目标图像的过程中所引入的与原始图像无关的像素点集合，采集目标图像时的外部环境和采集设备的自身性能等因素都有可能会产生干扰。为了减弱和消除数字图像的噪声，学者们根据不同噪声的特点，建立了相应的数学模型。根据噪声概率密度函数（PDF）的不同可划分为不同类型的噪声，如下所述。

     a）高斯噪声，也称为正态噪声。高斯噪声主要源自于电子器件的湿度或频率变化，它的灰度值分布概率符合正态分布。高斯噪声是图像中存在最广泛的一种噪声模型，在空域和频域中也较易进行处理，其PDF如下公式所示。

                                       

     其中，z表示图像像素点的灰度值，其均值为μ，方差为标准差σ的平方。由公式可知，实际上灰度值z的PDF即为正态分布的概率密度函数，因此也就是说高斯噪声的灰度值分布服从数学期望为μ、标准差为σ的正态分布。

     b）瑞利噪声，即服从瑞利分布的噪声。其PDF如下公式所示：

         

其均值和方差为：

                       

      C）伽马噪声，即服从伽马曲线分布的噪声，经常在激光和雷达成像上出现。其PDF如下公式所示：

            

其中，参数a>0，b为正整数。其概率密度的均值和方差分别为：

                        

d）指数噪声，即为伽马噪声参数b=1时的特殊情况。其PDF如下公式所示；

       

其中，参数a>0。其均值和方差分别为：

              

e）脉冲噪声，即离散型型的噪声。其PDF如下公式所示：

    

其中，噪声根据灰度值ａ、ｂ的大小关系将在图像中显示为明点（a<b）、暗点（a>b）。此外，若灰度值a、b的概率相近且不为零时，脉冲噪声值将会在图像上产生散落分布的亮暗噪声点，根据其在图像上显示的特点又将这种情况下的噪声称为橄盐噪声。橄盐噪声一般是脉冲干扰的结果.

图像去噪算法

针对含噪声的数字国像，经过多年的研究，已经出现了很多图像去噪的算法。从处理域的角度出发，现有的图像去躁算法大致可从分为两类：一类是空间域方法，另一类是频率域方法。其中，空间域滤波是一类经典而实用的图像噪声滤除方法，该类方法在实际中具有易行、快速的特点，在研究中被广泛地应用，常见的基于空间域滤波的图像去噪算法如下所述。

均值滤波，也称为线性滤波。它将图像中毎个像素邻域所有像素的平均值作为该像素的值进行滤波，所选取的邻域可以根据实际情况选取方形邻域、圆形邻域、菱形邻域或者十字形邻域等，即：





                 

    其中，Sxy表示围绕在像素点（x，y）邻域的个像素点的一组坐标。均值滤波算法简单易行，运算速度较快。但是由于均值滤波只是简单将餘素点周围的像素平均，本质上不能够分辨去除噪声点，同时也因此破坏了原始图像中的有效信息，使处理后的困像变得更如模糊，去噪效果比较一般。

b）中值滤波，是一种非线性的图像去噪方法。它将图像中毎个像素邻域所有像素的灰度值按照大小进行排序，然后取所有灰度值中的中间值作为当前像素的灰度值，所选取的邻域可根据实际情况选取方形邻域、圆形邻域、菱形邻域或者十字形邻域等，即：

                 

其中，Sxy表示围绕在像素点（x，y）邻域的mn个像素点的一组坐标。中值滤波能够有效地识别并去除图像中的噪声点，克服了均值滤波处理图徐细节模糊的问题，对于某些类型的随机噪声具有很好的滤除作用，因而在图像去噪中得到了广泛的应用。在实际应用中，选取好均值滤波的邻域形状后，一般先通过较小的邻域进行处理，然后逐步增大直到得到满意的处理效果为止。

3.1.2图像增强处理

图像增强是指根据需求把图像中对观测者有用信息加以增强，使图像视觉效果更好、更加易于之后处理的操作。图像增强的方法没有好坏之分，针对不同的场景，不同的图像增强方法所能达到的效果也不同，在实际应用中要对具体的问题进行具体的分析，选择最能改善图像质量的算法。常用的围像增强方法有很多种，其具体介绍如下所述。

灰度变换法

图像灰度变换是一种基于图像像素点操作的图像增强方法，它将图像中的像素点的灰度值按照某种数学变换公式转换为一个新的灰度值以提高数字图像的对比度。

设在像素点（x，y）处的灰度值为f（x，y），经过增强处理后图僚相应位置的灰度值g（x，y）。其中，f（x，y）、g（x，y）的取值范围都是[0,L-1],L为图像中可能的灰度值大小（即对8比特图像是256），f（x，y）=0为黑色，f（x，y）=L-1为白色。则灰度变换函数为：

            

由以上公式可知，灰度变换函数T是一种将像素值f（x，y）映射到像素值g（x，y）的函数变换。对于不同的灰度变换函数，灰度变换法的应用效果也各不相同，通常依据图像增强的目的来选择相应的变换函数。

在实际应用中，通过改变灰度变换函数曲线的拐点位置可以完成对图像中特定灰度区间的扩张或者收缩处理。在图像的实际效果上表现为该区间的突出和抑制，因此灰度变换法能够根据不同图像的特点选取不同的变化参数从而增强图像中的目标区域。

b）直方图均衡化法

图像的直方图是一种反映图像像素点灰度值分布情况的统计报告图，而直方图均衡化就是通过一定的算法将图像中各个灰度值像素点的个数或占比大小调整为相等的操作，其效果是扩展了灰度值像素点的个数或占比大的部分，而压缩了灰度值像素点的个数或占比小的部分，从而提高了图像整体的对比度和灰度色调的变化，使图像显示得更加清晰。

设僚素点（x，y）处的灰度值为f（x，y），则灰度值fk（x，y）出现的概率（即直方图函数）近似为：

        

 其中，MN是图线中所有像素点的总数，nk是灰度值为fk（x，y）的像素点的总数，L是图像中最大的灰度值大小。

 此时，直方图均衡化的映射函数为：



3.2图像目标范围界定

3.2.1图像代数运算

图像代数运算是对两幅图像对应像素点的灰度值进行算术运算的过程。如果记输入图像为A（x，y）和B（x，y），输出图像为C（x，y），则其代数运算形式有如下四种：

                

 一般来说，图像代数运算是两幅大小相等的图像中对应像素点灰度值之间的运算，因此上面的矩阵运算是按位运算。如果图像代数运算的结果使图像中的某个像素点灰度值超出了其取值范围，那么应根据该范围将像素值调整为最大值或最小值。图像代数运算在图像处理的领域中占据着十分重要的地位，例如对多幅图像求和平均可用于去嗓，图像求差可用于缓变背景下的目标检测等。



3.2.2目标范围界定

在实际应用中，对于原始图像来说目标困像仅仅占据原始图像的其中一部分。如果在后续的处理中直接对原始图像进行处理，则进行了很多不必要的计算，增大了计算量，降低了计算效率。因此需要界定出目标图像在原始图像中的有效范画，从而剪切出目标图像以减小计算量，提高计算效率。目标范围界定算法具体步骤为：

自上而下扫描目标图像，判断图像像素点的值与设定阈值T的大小；

目标范围界定中可能会出现背景噪声点的影响，通过设定检测到多于连续个的像素点大于设定阈值T的条件排除噪声点的影响。保存并记录下此连续像素点中第一个及最后一个大于此阈值的像素点坐标，作为上下方向上的边界坐标点；

自左而右扫描目标图像，判断图像像素点的值与设定阈值T的大小；

当有多于连续N个的像素点大于设定阈值T，保存并记录下此连续像素点中第一个及最后一个大于此阈值的像素点坐标，作为左右方向（图像X方向）上的边界坐标点；

根据边界坐标点的坐标值，界定出目标图像的有效范围，并沿着上下左右方向的边界将目标范围裁剪下来，完成目标范围界定。

3.3图像二值化

图像二值化，顾名思义就是将图像处理成仅含有两个灰度值的操作，通常是极大值和极小值，在图像中表现为黑色和白色。图像二值化是图像识别系统中重要的预处理方法，能够有效地突出目标并对图像进行目标分割。在实际操作中，一般通过选取适当的阈值将图像中感兴趣的部分突出出来，同时隐藏掉不感兴趣的部分，由于减小了图像中的计算信息量，因而有利于后续步骤处理速度的提高。在很多情况下，图像二值化处理将图像中所有灰度值大于或等于既定阈值的像素点归为感兴趣的目标对象区域，否则就排除在目标对象区域之外，归为背景或者对象区域外的区域。

设在像素点（x，y）处的灰度值为f（x，y），f（x，y）的取值范圍都是[0，L-1]，L为图像中灰度值大小（即对8比特图像是256），f（x，y）=0为黑色，

F（x，y）=L-1为白色。则二值化处理函数为：

            

     其中，T表示为图像的阈值函数，本文将所有灰度值置为L-1的像素点描述为目标点，在图像中表现为白色；除此之外的其他像素点则描述为背景点，在图像中表现为黑色。

图像二值化中的关键问题是如何选取出合适的阈值函数T。阈值函数T可以是常函数或者普通函数，若阈值函数T为常函数，则称之为全局二值化处理；若阈值T是以图像像素的邻域信息（如亮度、对比度、纹理）为自变量的普通函数，即函数值随所选自变量的不同而不同，则称之为局部二值化处理。全局二值化处理操作简单且计算量小，对于目标与背景层次分布明显图像处理效果较好，但对于目标与背景混叠，层次不清的图像处理效果不佳。局部二值化处理对光照不均匀、噪声干扰较大或者含有多个不同目标的图像具有很好的二值化效果，但是计算量相较于全局二值化处理较大且算法较为复杂。

3.4图像形态学处理

图像形态学处理是以数学形态学为基础，从图像中提取出满足特定形状条件的区域进行操作和处理的过程。图像形态学处理作为二值图像更深层次的处理，能够突出目标对象最为本质的形状特征，在图像形状特征的预处理中有着广泛的应用。

3.4.1图像的腐蚀

图像的腐蚀运算是运用具有某种特定形状的基本结构作为模板对输入图像进行平滑扫描，用结构中的像素点和其所覆盖的图像中的像素点进行＂与＂操作的过程，简称图像腐蚀。其中，上述具有某种特定形状的基本结构一般要求具有一定的对称性，例如矩形，圆形或菱形等。

设腐蚀的运算符为＂＂，目标图像为T，结构元素为S，则T被S腐蚀的运算操作记作TS，定义如下：

                  

其中，Sxy表示结构元素S覆盖在以像素点）（x，y）为中心的周围，根据Sxy中的像素点的值与其所覆盖的原始图像中的像素点的值进行＂与＂操作，如果所有像素点的结果都为1，则将满足该情况的像素点（x，y）加入集合中作为被结构元素腐蚀的结果。

3.4.2图像的膨胀

图像的膨胀运算可以看成是腐蚀运算的对偶运算，都是用具有特定形状的结构元素作为模扳对图像进行处理的过程。

设膨胀的运算符为“”目标图像为T，结构元素为S。则T被S膨胀的运算操作记作TS，定义如下：

           

 其中，Sxy表示结构元素S覆盖在以像素点（x，y）为中心的周围，根据Sxy中的像素点的值与其所覆盖的原始图像中的像素点的值进行＂与＂操作，如果所有像素点的结果都为0，则将满足该情况的像素点（x，y）加入集合中作为被结构元素膨胀的结果。

图像的膨胀运算与腐蚀运算正相反，能够使图像中的目标向外部＂扩张＂或者使图像中细小的枝干＂粗化＂。在实际应用中主要用来连接断裂的结构，填充图像中细小的孔洞等。

3.4.3图像的开运算和闭运算

在图像的处理中，图像的腐蚀运算会缩小一幅图像中的目标成分，此外还可以将摇连的目标物进行分离，而图像的膨胀运算则会扩大一幅图像中的目标成分，此外还可以将断开的目标物进行连接。图像的腐蚀和膨胀运算的特性在实际应用中十分有用，但是它们都在图像的大小变化上存在类似的缺陷：即经过腐蚀处理后，图像目标的面积小于原图目标的面积；而经过膨胀处理之后，图像目标的面积则大于原图目标的面积。为了解决这个问题，人们把图像的腐蚀和膨胀运算结合起来，提出了能够保持图像目标面巧大小的开运算和闭运算。

图像的开运算是使用相同的结构元素执行一个腐蚀运算后，再执行一个膨胀运算，公式定义如下：

                    

 图像的闭运算是使用相同的结构元素执行一个膨胀运算后，再执行一个腐蚀运算，公式定义如下：

                    

由于先进行图像腐蚀再进行图像膨胀，开运算能够消除图像中细小的物体、在纤细狭颈（细长的白色线条）处分离物体、平滑物体轮廓的同时并不明显改变其面积。在实际应用中，开运算通常是用来消除小颗粒噪声以及断开目标之间的粘连，其主要作用与腐蚀类似，但是由于先进行图像腐蚀再进行图像膨胀，因此图像目标区域的大小基本没有发生变化。闭运算由于先进行图像膨胀再进行图像腐蚀，也能够保持图像目标区域的大小不发生变化，但闭运算的主要作用与膨胀类似，能将图像目标区域中缺陷进行填充，连接临近的不同区域。

4总结

针对工业机器人图像识别系统的图像预处理阶段必要算法的理论基础进行了详细的介绍，其中主要包括图像去噪与增强、图像目标范围界定、图像二值化、图像形态学处理等。这些是后续的特征提取与图像识别和分类的理论基础，其结果的好坏是后续过程能否顺利成功的关键。