            
基于电信行业应用场景的信用评级技术




作  者:周子韬
学 号：117106010748学  院:计算机科学与工程题  目:基于电信行业应用场景的信用评级技术


　　　　指导老师：                               


1  绪论
1.1  课题研究背景
　　随着科技的进步和企业间竞争的加剧，电信运营商产品的质量和价格竞争的空间逐渐缩小，这就使得企业间结算方式成为企业竞争中是否占有优势的一个重要因素，即信用交易。作为激烈竞争的电信行业，信用交易则是企业最主要的交易方式。为了有效地刺激客户的购买力，增加企业的利润，除了提高产品质量和价格优惠或提供各类各具特色的电信消费套餐以外，大量运用商业信用促销，使得信用交易方式逐步取代传统的预付费交易方式，电信运营商应收账款的产生成为必然。然而，由于技术的不成熟，这种交易方式也带来了大量的电信业的呆坏账。特别是近年来，全球电信产业链从制造业到运营业都遭遇了前所未有的寒流，电信业产值锐减，同时呆坏账金额的增加对各电信企业而言无异于雪上加霜。
　　据标准普尔的研究显示，在2008年，全球的呆坏账高达1573亿美元，较2007年的1174亿美元更高，超过三分之一坏账来自电信公司。此外该报告亦显示，全球拥有呆坏账的电信公司的增长速度参差不齐，从2007年至2010年间，电信行业中只有不足十分之一的电信公司拥有呆坏账。2010年，拥有呆坏账的电信公司突然冒升约17%～18%；从2011年至2012年，更升至30%。假如这种增长速度持续不变，来年陷入呆坏账的电信公司很可能到达60%以上。其中四分之一更可能是无法收回的坏账。解决或改善这一问题，信用评级不失为一种好的方法。
1.2  研究意义
　　信用评级是金融领域中对客户信用等级进行评定的一种常用方法，其主要目的，在于尽量将能够体现消费者未来行为的指标加以整合，并统一成可以比较的单一指标，以显示消费者在未来一特定时间内违约的可能性，所有的信用评级模型，无论采用什么理论或方法，其最终目的都是将消费者的信用级别分类。同样，电信企业在进行信用管理时也可运用信用评分中的各种研究方法及数据挖掘领域中的一些技术来甑别出信用较差的客户，降低信用风险，减少呆坏账金额的增加并最终识别出自己感兴趣的知识模式，从而改善公司的业绩并指导经营管理。此外，通过专利模型找到适合每个用户的个性化的适当的信用额度，以挖掘用户消费潜力、提高用户消费体验、增加用户粘性。
　　因此，在信用经济条件下，利用信用评级解决电信运营商应收账款居高不下对运营商带来的不利影响，对防范坏账风险，降低企业经营管理成本，保证电信运营商正常运行的合理现金流量，改善其自身在同行业中的竞争地位，提高市场竞争力等都具有重要意义。
1.3 国内外发展现状和水平
　　现阶段的技术在确立客户信用等级的时候，利用的是传统的信用决策系统，这是一个过多依赖于训练有素的专家的主观判断系统。专家依赖于他们的经验对电信客户进行评估并协助授信人做出决策。显然，这样的评级原则主观因素太多，在实际应用中，很难做到客观和真实。
　　信用评级的主要目的，在于尽量将能体现够消费者未来行为的指标加以整合，并统一成可以比较的单一指标，以显示消费者在未来一特定时间内违约的可能性，所有的信用评级模型，无论采用什么理论或方法，其最终目的都是将消费者的信用级别分类。信用评级在我国金融市场上具有举足轻重的作用，信用评级可以为投资者提供公正客观的信息，以优化投资选择，实现投资安全性，取得可靠收益，从而起到保护投资者利益的作用。
　　现阶段信用评级模型主要应用于金融领域，电信企业中的信用评级与分析的常用方法有属于预测性模型的A记分法，Z记分模型以及属于管理模型的营运资产分析模型和特征分析模型等。预测类模型的目标单一，对财务信息依赖性强，不太适用于我国企业的信用分析；而营运资产分析模型则侧重于客户的实力和用户的财务分析，对用户消费行为的分析较少，并且适用于个人的信用评价；相比较而言，由于特征分析模型具有内容较为全面且扩展性强，较大的灵活性，可操作性强且通俗易懂，并且可以针对客户的特征进行定义等优点，因此在信用分析中得到了广泛的应用，电信企业用户评价模型一般采用此方法来对用户进行信用分析。
　　当前，信用评级领域的研究发展速度飞快，为了降低信用决策中的主观因素，越来越多的数学方法被引入到了信用评级中，概括来看，主要分为非统计和统计两大类。统计方法主要包括判别分析、回归分析、分类树和最近邻法，非统计方法包括神经网络、遗传算法、专家系统和数学规划方法。
　　国内对于信用评级系统的研究集中在两方面：一是利用层次分析法设定权数的财务指标加权评级体系，如赵振全和邹小芃等。这类研究设计的评级体系虽然易于操作，但却不能直接根据信用等级得出违约概率，且在权数设定上主观性较强。另一类研究则集中于模型的预测力比较上，如方洪全、李萌、张维、王春峰、石庆焱等对判别分析、logistic模型、神经网络、遗传算法及决策树等方法进行了应用分析及其对比研究。传统的信用决策系统是一个过多依赖于训练有素的专家的主观判断系统，我国电信企业的用户信用管理正处于此阶段，虽具有一定的内容和规范制度，但总体上缺乏科学性、系统性，显然，这样的评级原则主观因素太多，在实际应用中，很难做到客观和真实。
　　
	
2  相关技术原理综述
2.1聚类分析
　　聚类分析指将物理或抽象对象的集合分组为由类似的对象组成的多个类的分析过程，它是一种重要的人类行为。聚类分析的目标就是在相似的基础上收集数据来分类。
　　自组织映射(Self-Organizing Maps, SOM)算法作为一种聚类和高维可视化的无监督学习算法, 是通过模拟人脑对信号处理的特点而发展起来的一种人工神经网络。SOM算法以其所具有的诸如拓扑结构保持、概率分布保持、无导师学习及可视化等特性吸引了广泛的注意,各种关于SOM 算法应用研究的成果不断涌现,现已被广泛应用于 语音识别、图像处理、分类聚类、组合优化(如 TSP 问题)、 数据分析和预测等众多信息处理领域。
　　利用数据挖掘中SOM聚类分析方法，将原始数据的多个属性进行聚类，得到每个客户的信用等级的信用分值，确定由高到低的不同信用等级，不同的信用等级对应着不同的信用额度。
2.2分类分析
	1.KNN算法
	KNN算法是基于实例的简单的分类算法，该算法具有以下优点：1.简单、有效并易于理解；2.对于噪声数据不敏感，且对大空间类别样本具有较好的分类效果；3.模型重新训练代价较低，模型训练不需要进行过多计算工作。尽管如此，它存在以下缺点：1.分类过程效率较低，需要计算待分类样本和整个训练集的距离，产生了大量的计算代价；2.对于不同类别的样本容量差别较大时，分类效果较差。
	2.朴素贝叶斯分类算法
	朴素贝叶斯分类算法是基于条件概率的分类算法，该算法具有以下优点：1.具有不俗的分类效果，具有一定的普适性；2.该算法模型的估计参数较少，且算法较为简单，对于缺失数据不会存在太大的问题。然而，该分类算法存在以下缺点：1.算法本身假设特征之间的相互独立性，对于现实情况存在一定偏差，从而对其分类结果具有一定影响；2.需要了解各类别先验概率，而模型中的先验概率只能采用训练集中可预见的概率估计。
	3.C4.5算法
　　C4.5算法是ID3的改进，其中属性的选择依据同ID3算法一样。ID3算法以信息熵的下降速度为选取测试属性的标准，即在每个节点选取还尚未被用来划分的具有最高信息增益的属性作为划分标准，然后继续设个过程，直到生成的决策树能完美分类训练样例。相比较，C4.5算法具有以下优点：1.用信息增益率来选择属性，克服了用信息增益来选择属性时偏向选择值多的属性的不足；2.既可以处理离散型描述属性，也可以处理连续型描述属性；3.采用后剪枝方法，避免树的高度无节制的增长，避免过度拟合数据；4.对于缺失值的处理；5.产生的分类规则易于理解，准确度较高。该算法的缺点是：构造树的过程中，需要对数据集进行多次的顺序扫描和排序。
	
3．应用场景
3.1应用场景简介
　　信用评级分类的应用场景如下：数量级在万级别左右，数据集每天进行更新，所以训练模型进行每日的模型重建，对于模型的并行化和训练时间具有一定的要求；分类模型的参数较为稳定，包括特征数量以及类别集合的设定都不会产生较大的变更；特征数据类型中以连续类型居多，需要进行大量的特征类别转换等处理工作。
　　本文的基于数据挖掘的电信客户信用分类挖掘模型建立的应用场景如下：现阶段电信公司对客户信用等级的确立迫在眉睫，因为电信公司大量的话费呆账坏账一般都是由那些信用等级不高的客户所产生。
　　本文以营商的部分客户数据为研究对象，建立了客户信用等级的分类预测模型，由此可指导电信运营商在之后的管理活动中采取不同的措施面对各种信用级别的客户，从而减少经营过程中不必要的风险。在建立分类模型之初必须先确立客户信用等级的类标号，而现在该电信运营商主要对客户每月的消费金额高低进行简单的统计，从高到低的给客户信用等级评分内部默认分值5、4、3分，这势必将产生一定的误差。
　　对此，先对预付费的用户的相关数据信息进行采集；对采集的数据进行预处理；采用SOM聚类分析，或者卷积神经网络算法，以及分类分析方法对经过预处理的数据进行操作分析，建立分类预测模型；进行大量训练，提高模型的精确度；最终投入实际的应用。总体思路流程图如图3.1所示：

图3.1研究流程图
　　整个信用评级处理和分析系统的框架图如图3.2所示。

图3.2 信用评级处理和分析系统的框架图

3.2 数据收集及预处理
　　首先，进行数据采集。从运营商的用户数据库中，利用随机抽样的方法提取2016年7月-2016年12月的样本数据，累计属性为37个，得到如表3.1的原始数据模型：
表3.1原始数据模型
属性名称属性解释USER_NO用户编号USER_NAME用户名CITY_DESC_开户开户地COUNTY_DESC_开户开户分公司CITY_DESC_归属归属何地COUNTY_DESC_归属归属何公司FIRST_CALL_DATE首次电话日期COMMENTS后付费套餐种类MACTYPE_DESC手机型号VIP_LEVEL客户等级BRANDCODE_DESC手机卡品牌手机成本手机成本月承诺额月承诺额承诺生效时间承诺生效时间承诺失效时间承诺失效时间性别性别年龄年龄证件地址证件地址联系人电话联系人电话PAY_NO支付编号CHARGE_7至CHARGE_122016年7月-2016年12月的消费金额是否欠停_7至是否欠停_122007年7月-2016年12月的欠停标志催停标志是否催停标志可用金额可用金额最早欠费月最早欠费月最近欠费月最近欠费月累计欠费累计欠费　　
　　数据收集结束后，为了让数据能够更好的反应用户的真实情况，使得数据更加适合挖掘，为建立良好的模型打下坚实的基础。需要对数据进行预处理，数据预处理主要有如下几步：数据清洗，噪声数据处理，数据变换以及数据归约。
4．算法及模型
4.1聚类分析
　　SOM聚类依据大脑对信号处理的特点，T1Kohonen在1981年提出了自组织特征映射(SOM)神经网络模型。自组织特征映射模型是对生物神经系统进化过程的计算机模拟，它的网络结构分为上下两层，下层为输入层，上层为输出层。输出层神经元构成一维或二维格形，格形确定了神经元在空间中的邻域关系；且输出层神经元与每个输入结点都有连接。若输入为n维向量，则每个输出神经元对应一个n维权值向量wj。自组织特征映射模型可以实现自组织功能，即SOM聚类。自组织的目的就是通过调整输入和输出之间的权系数wij，使神经网络收敛于一种表示形态。每执行一次学习，则SOM网络中就会对外部输入模式执行一次自组织适应过程。其结果是强化现行模式的映射形态，弱化以往模式的映射形态。SOM的典型拓扑结构如图4.1所示：
　　
图4.1 SOM典型拓扑结构
　　该算法的聚类功能主要是通过以下两个简单的规则实现的。首先，对于提供给网络的任一个输入向量,确定相应的输出层获胜神经元s，其中s=argminc|-Wc|所有的c属于δ。然后确定获胜神经元s的一个邻域范围,调整范围内神经元的权向量。该调整过程使得内神经元的权向量朝着输入向量的方向靠拢。所有的c属于N。
　　随着学习的不断进行,学习率将不断减小.邻域也将不断缩小,所有权向量将在输入向量空间相互分离,各自代表输入空间的一类模式,这就是Koohenn网络特征自动识别的聚类功能。SOM聚类算法实现的具体流程图如图4.2所示。
图4.2 SOM聚类算法实现的具体流程图
4.2卷积神经网络
　　深度学习是近几年非常热门的一个课题，深度学习的方法有有监督学习和无监督学习两种，卷积神经网络（CNN）算法属于有监督学习，此文中可采用卷积神经网络（CNN）算法。
　　卷积神经网络(Convolutional Neural Networks，CNN)是目前具有非常高效率的一种识别的方法，是仿生物视觉系统学与计算机科学的一次伟大结合。卷积神经网络也是前馈神经网络（back propagation）的拓展。单个神经细胞元的处理过程如图4.3所示
　　
　　图4.3 卷积神经网络中单个神经元处理过程
　　如图所示，卷积神经网络中单个神经元处理步骤为：
　　1.输入X1、X2、X3...Xn，X1、X2、X3...Xn是神经元的输入值，即预付费用户的用户资料、充值记录、消费记录、日末余额、用户状态等数据。
　　2.由输入的数据对神经细胞元进行"刺激"，神经元根据输入的数据，进行处理，最终得到一个输出h，该值用于表示用户信用等级的分数。
　　3.将用户等级的分数预设为几个不同的段，分数段别由低到高代表用户的信用等级，把h的值与用户等级的分数段进行比较，将其划分到最接近的分数段。
　　4.根据得到的用户的信用等级，对用户预设信用额度。
4.3 决策树C4.5分类算法
　　C4.5算法是ID3的改进，其中属性的选择依据同ID3算法一样。它能实现基于规则的剪枝。因为算法生成的每个叶子都和一条规则相关联，这个规则可以从树的根节点直到叶节点的路径上以逻辑合取式的形式读出。目前为止，运用C4.5算法来做分类决策树的研究在国际上影响还是很大的。
　　在本文的电信这一应用场景下，可以利用该算法建立客户信用等级预测模型。C4.5算法流程如图4.4所示。
　　
图4.4 C4.5算法流程
　　对于该算法的运用细节，如下描述：
　　1.连续属性最佳分割度量
　　最佳的分割值应使组内的目标变量差异最小，即组内目标变量的取值分布越集中越好，组间目标变量的取值差异越大越好。选择最佳属性分割值通常是根据划分后子女节点不纯性的程度。不纯的程度越低，类分布就越倾斜。
　　本项目以熵（entropy）为不纯性度量标准。
　　对连续属性来说，测试条件采用二元输出的比较测试，如（消费金额<v）（消费金额≥v）（v是属性消费金额的最佳分割值）。
　　划分方法：
　　将连续属性中N个不同训练记录排序（v1<v2<...<vn），从两个相邻的排序的排过序的属性值中选择中间值
　　
　　作为候选划分点，对点将训练记录分成的两部分（小于等于及大于两部分）分别计算Entropy指标，取其加权平均Entropy为点的Entropy指标值。Entropy由以下公式给出：
　　
　　其中m是类c的个数，p(i|t)表示给定节点t中属于类ci的记录所占比例。
　　点中最小Entropy指标值所对应的点即为本连续属性的最佳分割点v，将训练记录分成小于v及大于等于v的两部分。
　　2.新节点的产生度量
　　创建一个节点时，需要比较每个属性的信息增益率，属性的度量方法是在树的每个节点上使用信息增益率（informationgainratio）度量选择测试属性。选择具有最高信息增益率的属性作为当前节点的测试属性。
　　设S是s个客户数据样本的集合。根据数据库元组训练集，类标号属性具有m个不同值，因此有m个不同的类Ci（i=1，......m）。设si是类ci中的样本数。对一个给定的样本分类所需的期望信息值由下式给出：
　　
　　其中Pi是任意样本属于ci的概率，并用Si/S估计。
　　设属性A具有v个不同的值{a1，a2...，av}。可以用属性A将S划分为v个子集{s1，s2，......，sv}；其中,Sj包含S中这样一些样本，它们在A上具有值aj。如果A选做测试属性（即最好的分裂属性）则这些子集对应于由包含集合S的节点生长出来的分枝。设Sij是子集Sj中类Ci的样本数。
　　根据由A划分成子集的熵（entropy）或期望信息为：
　　
　　项充当第j个子集的权，并且等于子集（即A值为aj）中的样本个数除以S中的样本总数。
　　熵值越小，子集划分的纯度越高。注意，对于给定的子集sj，
　　
　　在A上分枝将获得的编码信息（信息增益）是
　　
　　信息增益率（informationgainratio）是
　　
　　其中k是属性A将S分成的部分数，p(si)是si部分占总记录s的比例。
　　Gainratio是某个属性导致两个信息量之间的差异率。也就是说具有最高信息增益率的属性，能够最好的反映记录中的不同类的差别，因此选择最高信息增益率的属性作为判定树的测试属性，建立分枝。
　　3.决策树的修剪
　　决策树的剪枝主要分为以下两类：
　　1）先剪枝
　　在这种方法中，树增长算法在产生完全拟合这个训练数据集的完全增长之前就停止决策树的生长。为了做到这一点，需要采用更具有限制性的结束条件，例如，当观察到的不纯性度量的增益低于某个确定的阈值时就停止扩展叶节点。这种方法的优点在于避免产生过分拟合训练数据的过于复杂的子树，然而，很难为提前终止选取正确的阈值。阈值太高将导致拟合不足的模型，而阈值太低就不能充分地解决过分拟合的问题。
　　2）后剪枝
　　在该方法中，初始决策树按照最大规模生长，然后进行剪枝的步骤，按照自底而上的方式修剪完全增长的决策树。修剪有两种做法：用新的叶节点替换子树，该叶节点的类标号由子树下记录中的多数类确定；或者用子树中最常适用的分支代替子树。当模型不能再改进时终止剪枝步骤。与先剪枝相比，后剪枝技术倾向于产生更好的结果，因为后剪枝是根据完全增长的决策树做出的剪枝决策，先剪枝则可能过早终止决策树的生长。然而，对于后剪枝，当子树被剪掉后，生长完全决策树的额外的开销就被浪费了。根据本文的研究需要，我们为了提高精确度，从而选择此方法来进行决策树模型的调整。
　　根据聚类之后所得出的结果，我们以表4.1和表4.2中为基础，得出分类数据模型，参看表4.3。
　　根据上一节的聚类结果为基础，将每一个电信客户的类标号对应填至"SEGMENT"属性中，然后后随机抽取三分之二的数据进行分类建模的基本样本数，余下的三分之一数据在模型应用阶段可进行未知类标号的预测，对此来检验该分类模型，即预测出未来电信客户的信用等级。
　　在本节中，分类模型中的目标变量分为三类，属于多目标分类模型。因此该分类预测模型被称为三叉决策树。依据上述的流程建立分类预测模型，然后将没有聚类过的已经由运营商标记过的信用等级来进行分类建模比较，通过一系列的模型评估指标，我们可以最终得出到底哪个模型较优。
　　根据数据预处理以及聚类分析的结果，拟获得一棵决策树，如图4.5所示。

图4.5 项目决策树实例

4.4三种方法比较与总结
　　SOM聚类算法的主要优点就是利用神经网络的学习训练，可以提取出众多数据中的共性。它更接近人脑的处理信息的过程，可以比较准确的处理复杂的文本及其他数据关系。该算法被广泛应用于各种模式识别和分类问题中，它属于非监督的聚类。
　　卷积神经网络（CNN）算法是一种有监督的机器学习方法，它在对用户的信用等级进行划分的过程中，需要进形大量的训练，不断修正训练模型，以提高模型的精确度。
　　而决策树方法可以在前两者的基础上进行进一步的准确度的提高，可以与前两个算法进行整合。采用SOM聚类分析、决策树分类分析对用户数据进行处理，并结合卷积神经网络算法进行大量的训练，最终获得用户的信用等级分类预测模型。由于电信行业样本数据集合数据量比较大，因此我们把数据集合分为训练样本集合和测试样本集合两部分。在进行聚类分析之后，根据训练样本集合和测试样本集合，采用C4.5算法将原始训练样本集合作为决策树的根节点，构造决策树，分别获得训练样本和测试样本分类的结果分析，整个模型生成的流程如图4.6所示。
图4.6 模型生成流程图
　　当电信客户信用分类预测模型建立后，我们可以对未来没有信用等级类标号的新客户依托所建立的模型进行快速，高效的信用等级的预测。同时根据此模型所得出的新的信用等级客户，进行及时的信用管理，规避信用风险导致的经济损失。
　　利用数据挖掘方法，对该电信运营商的客户数据进行探索、分析、建模。找出信用分值最低的那一类，将其标为3，同理其它两类客户的分值为4和5。在建立该分类模型后即确立电信客户信用等级后，我们可以据此给予不同用户不同的信用额度，提供个性化的服务，并且将模型应用到未来的新客户数据，这将减少人力物力成本，提高了评价信用等级的自动化程度，进一步提高了公司的工作效率。


	
              第 I 页

            



   

                




