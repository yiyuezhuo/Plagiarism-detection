文字识别的研究及产业应用报告











姓名：

             杨欧亚                   

学号：

         117106021962                

课程名称：

        人工智能原理与方法            

任课教师：

              张重阳                  





      2017年11月







1.研究的主要内容和意义

随着信息碎片化时代的来临，人们每天不得不被迫接受处理生活各种场景中无限砸向面前的信息，被各种终端图像、文字数据搞得力倦神疲。视觉感知是人工智能当中特别重要的问题之一，为什么这么说呢，我们人类对世界的感知大约80%是通过眼睛获取的。计算机视觉使得人工智能看懂世界，典型的技术包括图像识别，人脸识别，视频监控等等，文字识别也是非常重要的计算机视觉技术。因为文字是我们感知这个世界最重要的手段，无论是从小学习知识到长大进行交流，衣食住行都离不开文字。在生活当中，文字也无处不在，离开了文字有时候我们很难理解整个社会和世界。文字的重要性还表现在很多方面，它是人类文明的标志，是信息交流的途径，学习知识的重要渠道，是记录历史、思想、文化的载体，文字和文明、文化还有很大的关系。而随着信息化的深入，越来越多的信息需要录入计算机去进行各种各样的处理。但信息录入，尤其是文字识别的处理却成为严重的瓶颈。为了解决这个问题，必须发展文字识别技术。 

2．国内外研究现状和发展水平

文字识别的研究发展历史已经有很多年的历史，最早可以追溯到上世纪20年代，上世纪80年代90年代是文字识别的重要发展时期，那时候在图书报刊数字化、邮政编码及自动分拣、表单名片识别等都产生了非常广泛的应用，2000年以后，随着智能手机和移动互联网的兴起，基于拍照和OCR以及手写识别及Ink理解受到了更多的关注。

自从有了深度学习技术之后，文字识别这个事情变得简单多了，现在利用相关的深度学习技术如CNN、DNN、RNN，可以把这个问题解决的很好。文字识别一直是深度学习一个主要的应用方向，深度学习如CNN/LSTM等模型在文字识别的应用有很长的历史，上世纪90年代，深度学习的先驱者如Y。 Lecun，很早就用神经网络来解决文字识别，1998年，Lecun和Bengio合作设计了LeNet5解决了手写数字识别问题。 

但是，简单利用深度学习解决手写汉字这些比较难的问题，效果并不是很理想。过去两年国内有很多研究团队，针对手写写文字的识别做了大量的工作，如英国华威大学的Graham教授、CNN中引入了路径积分特征图这样的领域知识层，可以进一步提升文字识别的准确率。有了深度学习的技术和我们的领域知识相结合以后，单字符的文字识别技术现在基本上解决的差不多了，这是联机汉字识别在公开评测集的技术指标现状，深度学习的结果基本上都超过了人眼识别的水平。

文本行识别是文字识别中另外一个传统的问题，包括有基于分割和无分割的方法。这个是传统的基于过切分的中文脱机无手写文本行识别的一些典型方法，后面的两种用了CNN分类器；这是基于HMM无切分的识别。法国的学者在2015年用多方向LSTM的方法来解决中文脱机手写文本行识别。

文字识别技术尽管已经开始走向实用，但还是很不成熟的。主要问题是识别率比较低。这大大限制了它的实用性。其次，速度问题也需要解决。除了上述技术问题之外。与国外对 比，我国还存在一个问题，即对理论及技术成果缺乏公共评价材料和手段。对文字识别理论与技术的主要评价手段是利用测试数据统计识别率。然而在我国还没有建立一种公共的测试方法，也没有公共的测试数据。研究者都是利用自己的数据进行实验 , 统计出来的识别率缺乏可比性 ,难以判断成果的实际水平，严重影响了研究工作的相互对比和竞争。

3．算法原理

文字识别实际上就是解决文字的分类问题，一般通过特征及特征匹配的方法来进行处理。特征判别是通过文字类别（例如英文或汉字）的共同规则（如区域特征、四周边特征等）进行分类判别。它不需要利用各种文字的具体知识，根据特征抽取的程度（知识的使用程度）分解到地使用结构分析的办法完成字符的识别。匹配的方法则是根据各国文字的知识（称为自动）采取按形式匹配的方法进行。按 实现的技术途径不同又可分为两种：一种是直接利用输入的二维平面图像与字典中记忆的图像进行全域匹配；另一种是只抽出部分图像与字典进行匹配。然后根据各部分形状及相对位置关系，与保存在字典中的知识进行对照，从而识别出每一个具体的文字。前一种匹配方法适合于数字、英文符号一类的小字符集；后一种匹配方法适用于汉字一类的大字符集。 

3．1 统计模式识别法 

统计模式识别的目的在于确定已知样本所属的类别。它以数学上的决策理论为依据，并根据此理论建立了统计学识别模型。其基本模型是在对研究的图像进行大量统计分析，找出规律性认识，抽出反映图像本质特点的特征进行识别。由于所输入的图像需要进行数字化，这就会产生误差；光照不均匀，噪声干扰会损坏图像的质量等。所有这些都需要进行预处理。经过预处理的图像进行特征提取，最后进行判决分类，得到识别结果。为了进行分类，必须有图像样本。框图右下角是学习训练部分。当用训练图像样本根据某些准则制定出一些判决规则后，再对这些训练样本逐个进行检测，观察是否有误差，如果有的话，再进一步改进判决规则，直到比较满意为止。 

3．2 决策理论方法 

统计模式是由图像信息获取进而图像预处理，然后再特征提取、特征选择，最终进行分类。统计模式识别方法最终归结为分类问题。假如已抽取出N个特征，而图像可分为 m 类。那么就可以对 N进行分类，从而决定未知图像属于 m 类中的那一类。一般把识别模式看成是 N维空间中的向量 X，即： X=[x1 x2 x3……xN]T 模式识别为 w1,w2,…,wm,识别就是要判断X是否属于 wi 以及属于 wi 中的哪一类。 在这个过程中主要解决两个问题：一是如何抽取特征，要求特征数 N 尽可能小而且对分类判断有效，二是假设已有了代表模式的向量，如何决定它属于哪一类，这就需要判别函数。例如，模式有 w1,w2,…,wm 共 m 个类别，则应有 D1(X),D2(X),D3(X),…Dm(X)共 m 个判别函数。如果 X属于第 i 类，则有： Di(X)>Dj(X) (j=1,2,…,m;j≠i) 在两类的分解线上，则有 Di(X)=Dj(X) 这是 X既属于第 i 类，也属于第 j 类，因此这种判别失效。为了进行识别就必须重新考虑其他特征，再进行识别，现在问题的关键就是找到合适的判别函数。 

3.3 线性判别函数 

线性判别函数是一种应用较广的一种判别函数。所谓线性判别函数，是指判别函数是图像所有特征向量的线性组合，即： Di(X)=∑wikXk+wi0 i=1,2,…m 式中 Di(X)代表第i个判别函数， wik 是系数或权重， wi0为常数或称为阙值。在两类之间的判决界处有： Di(X)-Dj(X)=0 该方程在在二维空间是直线，在三维空间是 平面，在N维空间则是超平面。 Di(X)-Dj(X)可以写成以下的形式： Di(X)-Dj(X)=∑(wik-wjk)Xk+(wi0-wj0)其判决过程可如下进行；如果 Di(X)>Dj (X),或 Di(X)-Dj(X)>0,则 X∈wi,如果 Di(X)<Dj (X)或 Di(X)-Dj(X)<0,则 X∈wj。 用线性判别函数进行分类是线性分类器。任何 m 类问题都可以分解为（m-1）个二 类识别问题。方法是先把模式空间分为一类 和其它类，如此进行下去即可。因此，两类线性分类器是最简单和最基本的。

分离两类的判决界由D1－D0=0 表示。对于任何特点的输入模式必须判定 D1 大还是 D2 大。若考虑某个函数 D=D1-D2,对于 1类模式 D为正，对于二类模式D为负。于是，只要处理与D相应的一组权输入模式并判断输出符合即可进行分类。 

3.4 边缘检测 

边缘(Edge)是指图像局部亮度变化量最显著的部分。边缘主要存在于目标与木板、目标与背景、区域与区域（包括不同色彩）之间， 是图像分割、纹理特征提前和形状特征提取等图像分析的重要基础。图像分析和理解的第一步常常是边缘检测。由于边缘检测十分重要，因此成为机器视觉研究领域最活跃的课题之一。 图像中的边缘通常与图像亮度或图像亮度的一阶导数的不连续性有关。图像亮度的不连续可分为：①阶跃不连续，即图像亮度在不连续处的两边的像素灰度值有着显著的差异；②线条不连续，即图像亮度突然从一个值变化到另一个值，保持一个较小的行程后又返回到原来的值。在实际中，阶跃和线条边缘图像是很少见的，由于大多数传感元件具有低频特性，使得阶跃边缘变成斜坡型边缘，线 条边缘变成屋顶形边缘，其中的亮度变化不是瞬间的，而是跨越一定的距离。 对一个边缘来说，有可能同时具有阶跃和线条边缘特性，例如在一个表面上，由一个平面变化到发线方向不同的另一个平面上就会产生阶跃边缘；如果这一表面具有镜面反射特性且两平面形成的棱角比较圆滑，则当棱角圆滑表面的法线经过镜面反射角时，由于镜面反射分量，在棱角圆滑表面上会产生明亮光条，这样的边缘看起来像在阶跃边缘上叠加了一个线条边缘。由于边缘可能与场景中物体的重要特征对应，所以它是很重要的图像特征。比如，一个物体的轮廓通常产生阶跃边缘，因为物体的图像亮度不同于背景的图像亮度。 下面讨论边缘算子。 边缘点的坐标可以是边缘位置像素点的行、列整数标号，也可以在子像素分辨率水平上表示。边缘坐标可以在原始图像坐标系上表示，但大多数情况下是在边缘检测滤波器的输出图像的坐标系上表示，0因为滤波过程可能导致图像坐标平移或缩放。边缘段可以用像素点尺寸大小的小线段定义，或用具有方向属性的一个点定义。在实际应用中，边缘点和边缘段都称为边缘。 由于边缘检测器生成的边缘集分成两个，真边缘和假边缘集。真边缘集对应场景中的边缘，假边缘集不是场景中的边缘。还有一个边缘集，即场景中的漏检边缘集。假边缘集称之为假阳性（False Positive） ,而漏掉的边缘集则称之为假阴性（False Negtive）。 边缘连续和边缘跟踪之间的区别在于：边缘脸就是把边缘检测器产生的无序边缘集 作为输入，输出一个有序的边缘集；边缘跟踪则是将一幅图像作为输入，输出一个有序边缘集。边缘检测使用局部信息来决定边缘，而边缘跟踪使用整个图像信息来决定一个像素点是不是边缘。





4．应用场景和应用水平的分析和比较

关于文字识别的算法非常多，针对不同应用有不同的算法与之对应。下面选取两个方向讨论下文字识别的算法，一个是针对印刷体的文字识别算法，一个是关于书写文字的识别算法。



4.1印刷体的文字识别



印刷体文字识别技术经过国内外专家学者的不懈努力,已经取得了很大发展,并在很多方面开始进入应用阶段 ,而“电子阅读笔”正是其中一个新兴的应用领域。“电子阅读笔作为文字识别及电子词典等技术的综合 ,可以通过图象采集及文字识别来查阅电子词典和辅助用户阅读文献以便大大提高工作和学习效率。

4.1.1　特征的选择与提取

由于汉字识别比英文字母识别更困难,将集中讨论在汉字的识别方面 ,其方法在做一定补充后,即可用于英文及数字的识别。 

4.1.1.1　归一化 (规范化 ) 

为了提高识别速度,减小存储容量,在文字归一化方面做了如下改进: ①为了降低成本 ,输入图 象分辨率取 150dpi。输入后的文字为 25× 25点阵左右 ,所以归一化前没有必要取太大的样本;②采用 36× 36点阵 ,而不是传统的 48×48点阵来进行归一化的方法。

4.1.1.2　特征选择 

为了进一步提高识别速度,本文采用了多级分类识别方法,这样可以通过粗分类来缩小细分类的搜索范围。其中,粗细分类中采用了粗外围特征和平均线密度特征来进行文字识别。 

粗分类特征 

汉字轮廓结构包含了汉字特征的重要信息,粗外围特征(即从汉字四边向中间扫描 ,以第1次碰到 笔划象素所经过的行程值作为特征)分类就是抽取汉字四周轮廓信息作为特征来进行分类的,它被认为是印刷体汉字识别方面比较有效的粗分类方法。其基本思路是对原图进行变换,以使内部结构受外围信息影响,具体实现过程为: 先从文字四边框对文字进行扫描,然后把原文字背景部分中,从所有方向都不能连续扫描到的区域设为笔划部分,这样就得到所谓的粗外围图。由其实现过程可以看出,原文字内部区域的特征也受轮廓影响 ,如图1(b)所示 ,其中“件”字内部一小块区域原来是背景 (黑象素),但因为轮廓的影响,变换后成为笔划区域(白象素)。特征的计算方法为: 首先将36×36点阵的粗外围图划分为 4×4= 16个网格(每个网格包括 9×9 pixel),再统计其中的白象素数,以构成 16维粗外围特征。实际上,虽然特征实现时仍然使用了粗外围特征,但原始粗外围特征仅考虑汉字的轮廓信息,而改进方法则在利用汉字内部结构信息的基础上,又加强了粗外围轮廓信息在特征量中的比重。



(2)细分类特征 

平均线密度法是利用反映笔划轮廓的平均线度来进行印刷汉字的细分类,它适用于多体印刷汉字识别。设 C(i ,j)是归一化的二值文字图象,其横线图形定义为Sh(i, j )= C(i+ 1, j) - C(i ,j ) 其中i , j∈ [1, p ],C(p+ 1, j)= 0。这种横线图形是原文字图形同其沿横方向平移一格时形成的图形之差 ,与横线图象类似,还可定义纵线图象为Sv= |C(i, j+ 1)-C(i , j )|, j∈ [1,p ],C(i, p+1)= 0在此基础,再把Sh,Sv分别分成 9×9个小网格,并计算每个网格中 4× 4pixel中包含的笔划 (白象素)点数,即可构成平均线密度特征。

4.1.2 识别算法

采用三级分类来对文字进行识别,即通过逐级缩小候选字集合的方法来进行识别,这样使整体的识别速度不会因为字库的增大而成比例的增长。

（1）粗分类 ( 1级分类 ) 

从粗分类简单有效的要求出发 ,对于16维的粗外围特征矢量,采用绝对值距离判别准则来进行识别。它的好处是,若待识字与标准字的向量只在某一维有较大差别,而其他各维都很接近时(比如字出 现缺损 ,或者局部粘连) ,则仍可以认为两者匹配;若采用平方距离判断,则会发现该待识字与模板相差甚远,从而造成误分类。虽然其缺点是对相似字的区分能力不如其他判别准则,但作为粗分类,只要求累积分类率高,即能保证在前n(如 50)位出现正选字即可,再加上该准则具有计算量小的优点,选用它作为粗分类的判别准则是合理的。由于粗分类特征比较稳定,其前 50个字的累积分类率可保证在 99.8%以上,因此可以说,基本上达到了预期的要求。

（2）细分类 ( 2级分类 ) 

在细分类中,应该侧重于相似字的区别,所以本级采用欧氏距离作为判别准则。由于第 1级分类输出只有50个字 ,所以尽管每个字的计算量不算小(要计算 162维平方距离 ) ,但总的计算量并不大 ,处 理时间也相应地比较短。令待识字的特征向量及第1级分类器输出的各个候选字标准矢量分别为X=(x1, x2 ,… , x162 )和Gj= (gj1, gj2,… ,gj162) ,则待识字与各候选矢量的距 离为Dj(X ,Gj )=∑ 162 i= 1 (xi - gji )2。具体做法是首先将各个Dj (X ,Gj )排序 ,然后选出距离最小的前 10个字,并将其输入到第3级进行识别。 

（3）识别 ( 3级分类 ) 

由于平均线密度法抗干扰能力不够强,而实际文字总是存在各种干扰如笔划粗细变化、笔划位置变动等),因此利用单纯的平均线密度特征不能达到理想的识别结果;另一方面,虽然粗外围法抗干扰的能力较强,但是区分相似字能力较差,可见两者具有一定的互补性。如果将二者相结合进行加权表决,将是合理而可行的方法。为此,第3级识别采用了两种特征加权判别的方法,判别准则也变为类似度准则。这里将待识字的特征矢量X与候选字的特征矢量G的类似度 R(X ,G)定义为 R(X ,G)=∑ mi=1(xi × gi )∑ mi= x2i ×∑ mi= 1g2i - 1/2 。从几何角度来看, R(X ,G)为向量X ,G在 m 维空间中夹角的余弦。显然 ,当 X= G时, R(X ,G)=1, 其距离 D(X ,G)= 0。这样通过寻找类似度的最大值R(X ,Gi )max ,即可判定X属于第i类。前两级判别采用的都是距离准则。虽然距离准则的计算量相对于类似度准则要小一些,但是前者在描述两个向量的相似程度时,不如后者精确,而且当一个字的笔划较少时,它与非正选字的模板距离也比较小,此时距离准则就不能象类似度那样可以明显地予以区分;而当一个字的笔划较多时,即使它与正选字的模板很接近,其计算出的距离仍然比较大,此时只有类似度准则才可以有效地衡量其接近程度,而且由于距离大小可能包括一个很大的范围,因此两级特征之间的大小关系难于预计,进而 造成权值难以确定;由于类似度值在0和1之间是 归一化的 ,因而两种特征的关系容易观察得出,所以在特征加权时,距离准则就不如类似度准则有效。在设计实现中,为了强调粗外围特征的稳定性,在第 3级分类过程中又对汉字进行了二重分割: 包括在第1级所用的4×4分割(每个小网格有 9×9pixel),另外又增加一个3× 3分割(每个小网格也包括 9× 9pixel)。通过统计分析,还可以获得 A、B的更好组合。最后按类似度大小进行分类,即得到最终识别结果。

4.2书写文字识别技术 

模式识别是人工智能领域的基础,它利用计算机和光学系统来识别计算机看到的图像信息,模拟人的视觉;用计算机和声音传感器来识别计算机接收到的声波信息,模拟人的听觉;用计算机通过压力、温度、气体、液体等传感器来识别计算机获得的各种特征信息,模拟人的触觉和嗅觉等功能。在视觉、听觉和触觉 的识别中,基于视觉图象识别具有特别重大的意义。从信息论的角度来看,“图像”所包含的信息量最大,内容极为广泛。图像识别目的在于用计算机自动处理某些信息系统,以代替人去完成图像分类及辨识的任务。对图像识别来说,系统针对某一物体除掉它与其他物体的相同的内容,考虑对它进行分类这一共性来研究的, 针对这一共性, 以统一的观点把同一共性归为一类,另一种共性归为另一类。图像识别过程分为图像预处理、图像分割、图像特征抽取和图像分类四步。

4.2 .1理论与实现 

4.2.1.1 模板匹配法的理论基础 

在图像识别技术中,模板匹配是比较简单的方法。模板匹配就是把未知图像和一个标准的图像比较, 看它们是否相同或相似。下面讨论两类别和多类别的情况。(1)两类别设有两个标准书写文A、B,其特征向量为d 维向量:XA=(xA1,xA2, ⋯,xAd)T,XB=(xB1,xB2, ⋯,xBd)T。任何一个待识别的书写文字 X, 它的特征向量为 X=(x1, x2, ⋯,xd)T, 当我们判别 X是A 还是B时可以计算X 与 A、 B之间的距离,X与哪个样板距离近,就属于哪个类,这就是最小距离算法。

系统设计的第一部分为标准样品输入、特征提取、 样品库建立和保存, 这一部分是有监督的训练学习过程;另二部分为用户书写输入一个文字及识别功能。



4.2.2.2判别函数的设计 

无论是设计一个基于概率统计的分类器,还是设计一个几何分类器,最终都转化为判别函数的形式。有两类分类器形式，在d维特征空间已经确定的前提下, 讨论的分类器设计问题是一个选择什么准则,使用什么方法, 将已确定的d维特征空间划分为决策域的问题。分类器设计有两种基本方法:模板匹配法和判别函数法。(1)模板匹配法: 将待分类样品与标准模板进行比较,看与哪个模板匹配程度更相似,从而确定待测试样品的分类。而近邻准则在原理上属于模板匹配,它将训练样品集中的每个样品都作为模板,用测试样品与每个模板做比较,看与哪个模板最相似(即为近邻),就按最近似的模板的类别作为自己的类别;(2)判别函数法: 设计基于判别函数法的分类方法有两种:基于概率统计的分类法和几何分类法。直接使用Bayes决策需要首先得到有关样品总体分布的知识,包括各类先验概率P(w1)及类条件概率 密度函数,计算出样品的后验概P(w1|X),并以此作为产生判别函数的必要数据,设计出相应的判别函数与决策面。当各类样品近似于正态分布时, 可以算出 使错误率最小或风险最小的分界面及相应的分界面 方程。因此如果训练样品处于近似的正态分布,可以用 Bayes决策方法对分类器进行设计;②几何分类法,由于一个模式通过某种变换映射为一个特征向量后, 该特征向量可以理解为特征空间的一个点,在特征空间中,属于一个类的点集, 总是在某种程度上与属于另一个类的点集相分离,各个类之间是确定可分的。因此如果能够找到一个分离函数(线性或非性形函数),把不同类的点集分开,则分类任务就解决了。几何分类器不依赖于条件概率密度的知识,可以理解为通过几何的方法, 把特征空间分解为相应与不同类别的子空间, 而且呈线形的分离函数 将使计算简化。分离函数又分为线性判别函数和非线性判别函数。从而实现文字识别技术。

通过对上面两个实例的分析，我们发现，文字识别不仅仅是一个模式识别的问题，还与自然语言理解、语言学以及人工智能等多个领域有关。并且文字识别才刚刚起步，还有许多方向需要进一步探索。文字识别理论与技术的前途怎样？这是人们十分关心的问题，对于这个问题，我们应该抱有乐观的态度，因为无论是脑机能研究的进展，还是计算机性能的提高都不断促进着文字识别理论与技术的发展，并最终达到理想目标。