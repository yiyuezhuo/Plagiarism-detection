计算机科学与工程学院

课程作业
课程名称：

人工智能原理与方法

作业题目：

无人驾驶车辆控制方式研究

姓

名：

杨恩平

学

号：

117106021930

指导老师：
成

张重阳

绩：

任课教师评语：

签名：
年

月

日

无人驾驶车辆控制方式研究
——117106021930 杨恩平 南京理工大学 计算机学院

0. 引言
随着科学技术的发展，电子化、信息化、网络化和智能化已成为未来车辆的
发展趋势。无人驾驶车辆则是该发展趋势的最佳体现。无人驾驶车辆包括两类：
一类是遥控车辆，另一类是自主车辆。遥控车辆依靠有线、无线及因特网方式有
操纵者远程控制实现无人驾驶；自主车辆也称为智能化车辆或者移动机器人，一
般是利用车载传感器来感知车辆周围环境，并根据感知所获得的道路、车辆位置
和障碍物信息，控制车辆的转向和速度，从而使车辆能够安全、可靠地在道路上
或者特殊的路径上行驶。
无人驾驶车辆控制技术是集车辆工程、计算机技术、自动控制理论、人工智
能理论、视觉计算理论、体系结构理论、程序设计技术、机构控制技术、组合导
航技术、传感器技术、通信与信息融合技术、机械设计制造技术等多种理论及技
术于一体的多学科、多行业综合技术，该技术不仅有潜力巨大的军用价值，而且
也有着广阔的工业和民用市场。它是一个国家计算机科学、模式识别和智能控制
技术的发展水平体现，也是衡量一个国家科研实力和工业水平的一个重要标志。

1. 国内外研究现状及发展水平
1.1.国外无人驾驶车辆的发展状况
二十世纪五十年代起，英美等发达国家就开始涉及无人驾驶汽车领域的研究，
并在某些方面取得了很大进展。1950 年，世界上第一台自主导航汽车由贝瑞特
电子公司在美国研制成功，实现了在设定路线上行驶。1987 年，奔驰公司投资赞
助了慕尼黑国防大学实验室，独立设计了 VaMoRs 智能车，车速最高达到 96KM/h。
1994 年，欧洲研制的 VaMP 和 VITA-2 机器人车辆在巴黎进行了测试，并在多车
道高速公路上行驶了 1000 多公里，其中车速最高时达到 130KM/h，并能自主完
成跟踪行驶。2005 年，在美国国防部主办的无人车挑战赛上，斯坦福大学的选
手们改装的大众途锐多功能车经过 7 个半小时的长途车程到达终点，完成了全程
障碍赛。2010 年，Google 设计制造的无人驾驶汽车进行并通过了主要城市道路
的驾驶测试，确定具有完备的感知能力和高水平的人工智能。2014 年，Code
Conference 科技大会上，Google 的新产品无人驾驶汽车亮相，和一般的汽车不
同，Google 无人驾驶汽车没有方向盘和刹车。美国、德国、日本等发达国家和欧
洲由于对无人驾驶技术的研究起步早，对无人驾驶技术的掌握和对无人驾驶汽车
的研发与生产更成熟和可靠。

1.2.国内无人驾驶车辆的发展状况
国内在此领域相对英美等国家起步较晚，目前仍处于初级阶段，从二十世纪
八十年代开始，以国防科技大学为主开始进行此方面的研究。
2001 年，在贺汉根教授带领下，研制成功时速达 76 公里的无人车。2002
年，国防科技大学与发达国家联合研制的汽车实现了在公路上的无人驾驶。2005

年，国防科技大学完成的一个重大项目中，实现了 2000 公里的无人驾驶。2006
年，在东北亚的贸易博览会上，中国研发的无人驾驶汽车在不封路的情况下，以
80 公里每小时的速度自主行驶。2011 年，国防科技大学成功研制了红旗 HQ3
无人车，在长沙-武汉高速公路上完成了无人驾驶实验，创造了在复杂交通环境
下无人驾驶的新纪录。2012 年，军事交通学院研制的无人驾驶智能汽车配备了
全球定位系统、超声波雷达传感器等先进技术仪器，以感知周围环境，自动规划
行车路线。2015 年，长安汽车首辆无人驾驶样车在重庆亮相，为国内第二辆原
型车。长安已经完成了 1 级的智能驾驶技术应用，如全速自适应巡航、紧急刹
车、车道保持等。
我国无人驾驶汽车的蓬勃发展还需要长期坚持不懈的努力，面临的困难还有
很多，技术水平不足、关键零部件依赖进口、政策法规不完善等问题较为突出。

2. 研究内容
在深入分析无人驾驶车辆的构成与工作原理的基础上，确定系统的控制方案。
模型预测控制虽然能够很好地表达运动规划和跟踪控制过程中模型约束问题，但
实际应用时，往往由于计算复杂耗时而无法再嵌入式系统中实现。尽管如此，模
型预测控制思想还是可以在无人驾驶车辆控制过程中得到实际应用。本文研究在
实际车辆控制中运用的单步航向预估控制方法，虽然没有进行优化，但在考虑模
型约束的基础上，结合 PID 控制方法，在单片机程序中实现了无人驾驶车辆航向
单步预测，取得了较好的控制效果。

3. 算法原理
航向跟踪是无人驾驶车辆路径跟踪的一种基本方法。在该方法中，位置偏差
和航向偏差最后都可以被转化为航向偏差。因此，精确的航向跟踪是实现路径跟
踪的前提条件。无人驾驶车辆是一个具有大延迟、高度非线性的复杂系统，建立
精确的数学模型十分困难，在进行航向跟踪控制时，参数的变化对系统模型影响
较大，其中纵向速度的变化影响最为明显。无人驾驶车辆航向跟踪一般控制方法
是把期望航向与机器人实测航向之差作为控制器输入偏差，控制器输出控制量为
机器人的前轮偏角。
无人驾驶车辆的航向与其纵向速度、横向速度、前轮偏角、车辆绕其重心的
转动惯量、重心位置、前后轮侧偏系数以及实际道路情况等诸多因素有关。在常
规控制方法中，只考虑了期望航向与实际航向的偏差，而未能包含其它因素的影
响，因此难以达到满意的控制效果。当系统参数特别是某些敏感参数发生变化时，
就必须重新设定控制器参数。例如，我们用常规 PID 控制器进行航向跟踪实验，
在某一纵向速度下整定好 PID 控制参数，当纵向速度发生很小变化时，必须重新
整定 PID 参数，否则控制性能变坏，超调较大，甚至出现振荡。表现在路径跟踪
实验中，则是在该速度下能较好地完成弯道或急弯等路径跟踪任务，而速度变化
后，跟踪误差变大或出现大幅度振荡。因此，在无人驾驶车辆航向跟踪控制中，
控制方法应该能对纵向速度等影响因素有一定的自适应能力。
以下首先介绍简化的无人驾驶车辆的二自由度动力学模型，然后对航向跟踪
预估控制算法的基本原理进行说明，最后再对控制局域网络 CAN 总线进行简单的
介绍。

3.1.二自由度无人驾驶车辆动力模型

当横向加速度和横摆角速度较小时，常采用经简化的二自由度轮式移动机器
人动力学模型 1,2，其微分方程如下：
2(a 2C f  b 2Cr )
2(aC f  bCr )
I zz r 
r
v  2aC f Cr
U
U
（1）

2(aC f  bCr ) 
2(C f  Cr )

M s v   M sU 
r
v  2C f  f

U
U



（2）
其中：Izz：轮式机器人绕重心的转动惯量(kgm2)； Ms：轮式机器人质量(kg)；Cf、
Cr：分别为前、后轮侧偏系数(N/rad)；U：轮式机器人纵向速度(m/s)；v：轮式机
器人横向速度(m/s)；a、b：前后车轴到重心的距离(m)；r：轮式移动机器人横摆
角速度。
将轮式移动机器人转向机构视为一个惯性环节，则有：
 f   f   d
(3)
其中：τ：惯性时间常数；δd：期望前轮偏角。
在航向跟踪控制过程中，可以令道路曲率为零，即不计实际路径的影响，航
向变化率即为机器人的横摆角速度 3，即：
  r
(4)

其中： 为轮式移动机器人航向与期望航向的偏差角。
(1)、(2)、(3)、(4)式联立即可得出以横摆角速度、横向速度、航向偏差角、
前轮偏角即 X=（r,v,  ,δf）为状态变量的系统状态空间表达式。

3.2.航向预估算法
在实际的航向控制过程中，控制器根据期望航向与采样航向得到航向偏差，
再计算控制量，而当执行机构执行这一控制量时，要经过一个采样周期，这时机
器人的实际航向已经改变，即控制量执行时已有一个采样周期的滞后，而且，采
样周期一定时，机器人纵向速度或其它影响因素不同，航向的变化量也不一样。
航向预估算法的基本思想是预测机器人航向变化趋势，并将其计入控制偏差，
这样航向变化趋势就可以影响控制器的输出，即轮式移动机器人的前轮偏角。本
文介绍的是一种在简化模型基础上提出的预估算法，预估模型原理如图 1 所示，
图 1 中：R 为机器人绕运动中心点 O 运动半径(m)，δf 为前轮偏角(rad)，B 为轴
距(m)。
由式(4)可知，只要求出轮式机器人的横摆角速度，就能得到航向偏差角变化
率，航向偏差角变化率与采样周期的乘积即机器人在一个采样周期内的航向变化
量.若设控制器采样周期为 Tc (s)，纵向速度以前轮速度近似，则轮式移动机器
人航向在一个控制周期的变化量 h (rad)可以近似地计算为：

h  UTc / R
R  B / sin  f

(5)

(6)
其中: (6)称为轮式移动机器人在一个控制周期内的航向变化预估量，以下简称航
向预估量。在控制算法中，把轮式移动机器人当前航向与航向预估量之和作为航
向反馈量，期望航向与航向反馈量的差值作为控制器的输入偏差，航向预估控制
框图如图 2 所示.

图 1 二自由度轮式移动机器人航向预估模型
Fig.1 Two degrees of freedom model for heading prediction

图 2 航向跟踪预估控制框图
Fig.2 Heading prediction control

3.3.PID 控制算法
由控制理论的基础知识可知：
比例调节(P)作用：是按比例反应系统的偏差，系统一旦出现了偏差，比例
调节立即产生调节作用以减少偏差。比例作用大，可以加快调节，减少误差，但
是过大的比例，使系统的稳定性下降，甚至造成系统的不稳定。
积分调节(I)作用：是使系统消除稳态误差，提高无差度。只要有误差，积
分调节就进行，直至无差，积分调节停止，积分调节输出一常值。积分作用的强
弱取决与积分时间常数 Ti，Ti 越小，积分作用就越强。反之 Ti 大则积分作用
弱，加入积分调节可使系统稳定性下降，动态响应变慢。积分作用常与另两种调
节规律结合，组成 PI 调节器或 PID 调节器。
微分调节(D)作用：微分作用反映系统偏差信号的变化率，具有预见性，能
预见偏差变化的趋势，因此能产生超前的控制作用，在偏差还没有形成之前，已
被微分调节作用消除。因此，可以改善系统的动态性能。在微分时间选择合适情
况下，可以减少超调，减少调节时间。微分作用对噪声干扰有放大作用，因此过
强的加微分调节，对系统抗干扰不利。此外，微分反应的是变化率，而当输入没
有变化时，微分作用输出为零。微分作用不能单独使用，需要与另外两种调节规
律相结合，组成 PD 或 PID 控制器。
在仿真和实验中，航向预估控制方法和与之对比的常规控制方法的控制器均
采用增量 PID 算法，且两者的比例、积分和微分系数一样。增量 PID 算法如式(7)
所示：
u  u(k )  u(k  1)
 K p [e(k )  e(k  1)]  K i e(k )  K d [e(k )  2e(k  1)  e(k  2)]

(7)

其中：Kp、Ki、Kd 分别为比例、积分和微分放大系数，u(k)表示第 k 个采样
时刻的控制量,e(k)表示第 k 个采样时刻的航向输入偏差。

3.4.CAN 总线技术
CAN 总线全称为 Controller Area Network，即控制器局域网，是国际上应
用最广泛的现场总线之一，最初是由德国 Bosch 公司为解决汽车监控系统中的诸
多复杂技术和难题而设计的数字信号通信协议，属于总线式串行通信网络。它属
于现场总线的范畴，是一种有效支持分布式控制或实时控制的串行通信网络。
1991 年 Bosch 公司制定并发布了 CAN 技术规范。该技术规范包括 A 和 B 两
部分，2.0A 给出了 CAN 的标准报文格式，2.OB 给出了标准和扩展的两种报文格
式。1993 年 ISO 正式颁布 TCAN 国际标准(IS01 1898)。随着 CAN 总线国际标准

的形成，其应用范围目前不仅局限于汽车行业，已推广到了机械工业、纺织机械、
农用机械、机器人、数控机床、医疗机械、家用电器等领域。
CAN 协议是建立在国际标准组织的开放系统互连模型基础上的。由于 CAN 的
数据结构简单，又是范围较小的局域网，故模型结构只取了的层物理层和数据链
路层。因为结构层次少，有利于系统中实时控制信号的传输。

4. 应用场景和应用水平
4.1.高速公路环境下的无人驾驶系统
这类系统将使用在环境限定为具有良好标志的结构化高速公路上，主要完成
道路标志线跟踪、车辆识别等功能。这些研究把精力集中在简单结构化环境下的
高速自动驾驶上，其目标是实现进入高速公路之后的全自动驾驶。尽管这样的应
用定位有一定的局限性，但它的确解决了现代社会中最为常见、危险、也是最为
枯燥的驾驶环节的驾驶任务。

4.2.城市环境下的无人驾驶系统
与高速环境研究相比，城市环境下的无人驾驶由于速度较慢，因此更安全可
靠，应用前景更好。短期内，可作为城市大容量公共交通(如地铁等)的一种补充，
解决城市区域交通问题，例如大型活动场所、公园、校园、工业园、机场等。但
是，城市环境也更为复杂，对感知和控制算法提出了更高的要求。城市环境中的
无人自动驾驶将成为下一阶段研究重点。例如，美国国防部“大挑战”比赛 2007
年将采用城市环境。目前这类环境的应用已经进入到小范围推广阶段，但其大范
围应用目前仍存在一定困难，例如可靠性问题、多车调度和协调问题、与其它交
通参与者的交互问题、成本问题、商业模型等。

4.3.特殊环境下的无人驾驶系统
无人驾驶汽车研究走在前列的国家，一直都很重视其在军事和其他一些特殊
条件下的应用。但其关键技术和基于高速公路和城市环境的车辆是一致的，只是
在性能要求上的侧重点不一样。例如，车辆的可靠性、对恶劣环境的适应性是在
特殊环境下考虑的首要问题，也是在未来推广应用要重点解决的问题。

5. 仿真实验
仿真实验在 MATLAB/SIMULINK 图形仿真环境下进行.将初始航向偏差设置为
20º(0.35rad)，进行航向跟踪阶跃响应实验.与实际系统一致，轮式机器人前轮
偏角最大设为 35º，因此控制器最大输出绝对位置控制量为 0.611rad,控制器采
样周期为 0.064s,每一控制周期输出增量最大为 0.0224rad.仿真时系统参数选
取如下：Izz：8890kg.m2；Ms：3000kg；Cf、Cr：分别为 48000N/rad 和 42000N/rad；
a、b：分别为 1.56m 和 2.0m，τ：0.5s.仿真时取 2 组纵向速度：4m/s 和 6m/s，
2 组纵向速度下的 PID 控制系数相同，比例、积分和微分系数分别取为 0.8、0.025
和 1.0.纵向速度为 4m/s 有、无航向预估量的航向阶跃响应曲线如图 3 和图 4 所
示，纵向速度为 6m/s 有、无航向预估量航向阶跃响应曲线如图 5 和图 6 所示。

图 3 速度 4m/s 时有预估量航向阶跃响应曲线
Fig.3 Step response of prediction method (u=4m/s)

图 4 速度 4m/s 时无预估量航向阶跃响应曲线
Fig.4 Step response of general PID (u=4m/s)

图 5 速度 6m/s 时有预估量航向阶跃响应曲线
Fig.5 Step response of prediction method (u=6m/s)

图 6 速度 6m/s 时无预估量航向阶跃响应曲线
Fig.6 Step response of general PID (u=6m/s)

从仿真结果可以看出，纵向速度为 4m/s 时有、无航向预估量时轮式移动机
器人航向阶跃响应曲线基本相同，但当速度变为 6m/s 时，航向预估控制方法的
阶跃响应曲线较为理想，而用常规控制方法则出现了较大的超调，纵向速度更高
时，两种方法的差别更明显.仿真结果说明有航向预估的 PID 控制器适应的速度
范围较宽，控制系统的鲁棒性比常规控制方法强。

6. 总结以及未来展望
本文提出一种无人驾驶车辆航向跟踪预估控制算法，根据车辆前轮偏角和纵
向速度来计算航向的变化量作为航向预估量，并将航向预估量与车辆实际航向之
和作为控制的反馈航向，航向预估量对车辆航向变化趋势作了预测。由于在航向
预估量中考虑了车辆纵向速度和实时前轮偏角的影响，因而控制器对车辆纵向速
度变化的适应范围较宽。算法简单实用，实时性非常好。仿真实验中，用航向预
估算法和 PID 控制算法结合进行无人驾驶车辆的航向跟踪实验，结果表明这种算
法有效地改善了控制性能，适应的速度范围较常规控制方法要宽，对系统参数变
化的敏感性较低，减少了控制器对移动机器人模型的依赖，提高了控制器的鲁棒
性。
无人驾驶汽车是未来汽车发展的方向，人类在不久的将来会用上智能型无人
驾驶汽车。那是一种将探测、识别、判断、决策、优化、优选、执行、反馈、纠
控功能融为一体，会学习、会总结、会提高技能，集微电脑、微电机、绿色环保
动力系统、新型结构材料等顶尖科技成果为一体的智慧型汽车。需要指出的是，
研发无人驾驶汽车并非要完全替代驾驶员，只是在需要替代的领域和场合作替代。
无人驾驶汽车尤其适合从事旅游、应急救援、长途高速客货运输、军事用途，以
发挥可靠、安全、便利及高效的性能优势，减少事故，弥补有人驾驶汽车的不足。
无人驾驶汽车在交通领域的应用，从根本上改变了传统车辆的控制方式，可大大
提高交通系统的效率和安全性。随着高科技的发展，我国无人驾驶车辆技术将会
不断发展，其功能也将更完善，学科内容将会更丰富，产业化前景更美好。

参考文献
1
2
3
4
5
6

7

8

杨欣欣．智能移动机器人导航与控制技术研究．北京：清华大学计算机科学
技术系，1999
龚建伟，姜岩，徐威. 无人驾驶车辆模型预测控制. 北京理工大学出版社
杨明．无人自动驾驶车辆研究综述与展望. TP242．6
乔维高，徐学进.无人驾驶汽车的发展现状及方向[J].上海汽车，2007，07：
40-43
赵阳.无人驾驶汽车关键技术[J].中国科技博览，2011（26）：272.
Yang Ming，Wang Chen，Yang Ruqing，Parent Michel，Cyberears automated
vehicles in China,in Proceedings of transportation research board
annual meeting[R]2006．January 22-26，2006，Washington DC．US
Maurer,Behringer，Thomanek F，et a1．A CompactVision System for Road
Vehicle Guidance,In ： Proceedings of the 13th International
Conference on Pattern Recognition，1996
黄武陵.无人驾驶汽车能否让城市通畅[N].光明日报，2012-06-12012

